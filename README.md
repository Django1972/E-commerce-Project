# Проект e-commerce: Анализ покупательского поведения и когортный анализ

## Описание проекта

В этом проекте проводится анализ покупательского поведения клиентов e-commerce с использованием данных из Olist, чтобы ответить на ряд вопросов, поставленных продакт-менеджером. Мы рассматриваем различные аспекты поведения клиентов, включая количество покупок, анализ недоставленных заказов, когортный анализ и RFM-сегментацию для определения качества аудитории.

### Цели проекта

1. Определить количество пользователей, которые совершили покупку только один раз.
2. Определить среднее количество заказов, которые не были доставлены по разным причинам в течение месяца.
3. Определить день недели, в который чаще всего покупается каждый товар.
4. Рассчитать, сколько в среднем каждый пользователь совершает покупок в неделю (по месяцам).
5. Провести когортный анализ и выявить когорту с наивысшим retention на 3-й месяц в период с января по декабрь.
6. Провести RFM-сегментацию для оценки качества аудитории и анализа поведения пользователей.

## Используемые данные

- **olist_customers_datase.csv** — информация о клиентах
- **olist_orders_dataset.csv** — информация о заказах
- **olist_order_items_dataset.csv** — информация о товарных позициях

## Этапы анализа

### 1. Анализ пользователей, совершивших только одну покупку
- Объединяем данные о клиентах и заказах.
- Отбираем только доставленные заказы.
- Подсчитываем количество уникальных заказов для каждого пользователя.
- Фильтруем пользователей, которые совершили только одну покупку, и подсчитываем их количество.

### 2. Анализ недоставленных заказов
- Отбираем заказы, которые не были доставлены.
- Преобразуем дату заказа в формат datetime и выделяем месяц.
- Группируем данные по месяцам и статусам заказов, подсчитывая количество недоставленных заказов.
- Рассчитываем среднее количество недоставленных заказов в месяц по каждой причине.

### 3. Анализ покупок по дням недели
- Объединяем данные о заказах и товарных позициях.
- Преобразуем дату заказа в день недели.
- Группируем данные по товарам и дням недели, чтобы определить день недели, в который товар покупается чаще всего.

### 4. Анализ покупок в неделю (по месяцам)
- Для каждого пользователя рассчитываем количество покупок в неделю с учетом того, что количество недель в месяце может быть не целым.
- Группируем данные по пользователям и месяцам и рассчитываем среднее количество покупок в неделю.

### 5. Когортный анализ пользователей
- Определяем дату первой покупки для каждого пользователя и присваиваем его когорте.
- Группируем данные по месяцу когорты и месяцу последующих покупок, рассчитывая количество пользователей и заказов.
- Рассчитываем retention на третий месяц для каждой когорты и выявляем когорту с наивысшим retention в период с января по декабрь 2017 года.

### 6. RFM-сегментация
- Рассчитываем метрики R (recency), F (frequency), M (monetary) для каждого пользователя.
- Используем кластеризацию для разделения пользователей на сегменты на основе этих метрик.
- Анализируем каждый RFM-сегмент и определяем границы метрик для каждого сегмента.

## Используемые технологии и библиотеки
- **Pandas** — для обработки и анализа данных
- **NumPy** — для математических операций
- **Matplotlib / Seaborn** — для визуализации данных
- **Scipy** — для статистических расчетов

## Выводы

- Проведенный анализ позволяет выявить слабые места в процессе доставки, выявить ключевые паттерны покупок и поведение пользователей.
- Когортный анализ показал, что определенная когорта 2017 года имеет самый высокий retention на третий месяц.
- RFM-сегментация позволила разделить пользователей на группы, что дает возможность более точно проводить маркетинговые и продуктовые активности.
